<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deploy Web UI with with Node.js and AngularJS :: Red Hat OpenShift Database Access Workshop</title>
    <link rel="canonical" href="https://redhat-scholars.github.io/course-template/rhoda-tutorial/webui-deployment.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img src="../_/img/NewRHDFullLogo_4-color_white-wordmark.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://redhat-scholars.github.io/course-template">Red Hat OpenShift Database Access Workshop</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kubernetes-tutorial/" target="_blank">Kubernetes</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/istio-tutorial/" target="_blank">Istio</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/tekton-tutorial/" target="_blank">Tekton</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rhoda-tutorial" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="01-setup.html">1. Setup RHODA</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-setup.html#sandboxsignup">Configure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-setup.html#apitenant">Connected Database</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-deploy.html">2. Deploy a REST API and setup for RHODA</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-deploy.html#deploy">Deploy a REST Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-deploy.html#configure">Annotate the Quarkus Service</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#03_lauch-sandbox.adoc">3. Launch the RHODA Console</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#04-manage-api.adoc">4. Verify API</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#04-manage-api.adoc#_import_the_api_into_openshift_api_management">Connect to the Database</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">DBAAS Workshop</a></li>
    <li><a href="webui-deployment.html">Deploy Web UI with with Node.js and AngularJS</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/redhat-scholars/rhoda-guide/edit/master/documentation/modules/ROOT/pages/webui-deployment.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Deploy Web UI with with Node.js and AngularJS</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>10 MINUTE EXERCISE</em></p>
</div>
<div class="paragraph">
<p>In this lab you will learn about Node.js and will deploy the Node.js and Angular-based
web frontend for the CoolStore online shop which uses the API Gateway services you deployed
in previous labs.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/coolstore-arch-webui-nodejs.png" alt="API Gateway Pattern" width="400">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what_is_nodejs"><a class="anchor" href="#what_is_nodejs"></a>What is Node.js?</h2>
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="imageblock">
<div class="content">
<img src="_images/nodejs-logo.png" alt="Node.js" width="400">
</div>
</div>
<div class="paragraph">
<p><a href="https://nodejs.org/" target="_blank" rel="noopener">Node.js</a> is an open source, cross-platform runtime environment for developing server-side
applications using JavaScript. <a href="https://nodejs.org/" target="_blank" rel="noopener">Node.js</a> has an event-driven architecture capable of
non-blocking I/O. These design choices aim to optimize throughput and scalability in
Web applications with many input/output operations, as well as for real-time web applications.</p>
</div>
<div class="paragraph">
<p><a href="https://nodejs.org/" target="_blank" rel="noopener">Node.js</a> non-blocking architecture allows applications to process large number of
requests (tens of thousands) using a single thread which makes it desirable choice for building
scalable web applications.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploy_on_openshift"><a class="anchor" href="#deploy_on_openshift"></a>Deploy on OpenShift</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Web UI is built using Node.js for server-side JavaScript and AngularJS for client-side
JavaScript. Let&#8217;s deploy it on OpenShift using the certified Node.js container image available
in OpenShift.</p>
</div>
<div class="paragraph">
<p>In the previous labs, you only used the S2I builder image for
injecting developer source code inside a running container.
In this lab, you will fully use OpenShift <a href="https://docs.openshift.com/container-platform/4.10/cicd/builds/understanding-image-builds.html" target="_blank" rel="noopener">Source-to-Image (S2I)</a>.
OpenShift will obtain the application code directly from the source repository then build and deploy a
container image of it.</p>
</div>
<div class="paragraph">
<p>In the <a href="https://console-openshift-console.%APPS_HOSTNAME_SUFFIX%/topology/ns/my-project%USER_ID%?view=graph" class="params-link" target="_blank" rel="noopener">OpenShift Web Console</a>, from the <strong>Developer view</strong>,
<code><strong>click on '+Add' and select 'Import from Git'</strong></code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/openshift-add-from-git.png" alt="OpenShift - Add from Git" width="700">
</div>
</div>
<div class="paragraph">
<p>Then, enter the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Web UI Project</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Git Repo URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>%WORKSHOP_GIT_REPO%</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Git Reference</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>%WORKSHOP_GIT_REF%</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Context Dir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>/labs/web-nodejs</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Builder Image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Node.js</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>coolstore</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>web-coolstore</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Deployment</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a route to the application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Checked</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show advanced routing options</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Expand - see below</em></strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>From the advanced routing options <code><strong>de-select the Secure Route option</strong></code>, so this creates an <strong>HTTP</strong> route
like below:-</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/openshift-add-http-route.png" alt="OpenShift - Add route" width="600">
</div>
</div>
<div class="paragraph">
<p><code><strong>Click on 'Create' button</strong></code></p>
</div>
<div class="paragraph">
<p>Now wait a few minutes for the application to built by OpenShift and deployed to your project. In the toplogy view,
the web application pod will not be ready until the blue ring goes dark blue.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="test_your_service"><a class="anchor" href="#test_your_service"></a>Test your Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the <a href="https://console-openshift-console.%APPS_HOSTNAME_SUFFIX%/topology/ns/my-project%USER_ID%?view=graph" class="params-link" target="_blank" rel="noopener">OpenShift Web Console</a>, from the <strong>Developer view</strong>,
<code><strong>click on the 'Open URL' icon of the Web Service</strong></code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/openshift-web-topology.png" alt="OpenShift - Web Topology" width="700">
</div>
</div>
<div class="paragraph">
<p>Your browser will be redirected to <strong>your Web Service running on OpenShift</strong>.
You should be able to see the CoolStore application with all products and their inventory status.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/coolstore-web.png" alt="CoolStore Shop" width="840">
</div>
</div>
<div class="paragraph">
<p>Well done! You are ready to move on to the next lab.</p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
